<html>
    <head>
        <title>Fudgel - Lightweight Web Component Library</title>
        <link rel="stylesheet" href="fonts/fonts.css" />
        <link rel="stylesheet" href="./style.css" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="/favicon-16x16.png"
        />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
        <meta name="msapplication-TileColor" content="#da532c" />
        <meta name="theme-color" content="#ffffff" />
    </head>
    <body>
        <page-wrapper>
            <h1>Styling</h1>
            <p>
                Web components need styling in order to look good. Fudgel helps with styling by scoping your styles so they don't automatically affect the rest of the page. This is done using a few different techniques, based on what the browser supports.
            </p>
            <h2>Let's Begin</h2>
            <p>
                Simply put, you style your component by adding a <code>style</code> property to your component's configuration. This property should contain a string of CSS that you want to apply to your component. This is the simplest way to add styles.
            </p>
            <code-sample
                type="js"
                live="true"
                html="<styled-button></styled-button>"
            >
                <!-- prettier-ignore -->
                <template>
                    import { component } from 'fudgel';

                    component('styled-button', {
                        style: `
                            :scope {
                                display: block;
                                background-color: green;
                                padding: 10px;
                            }
                        `,
                        template: `<button>Click me</button>`
                    });
                </template>
            </code-sample>

            <h2>How does Scoping Work?</h2>
            <p>Imagine you use this CSS for your component:</p>
            <code-sample type="css">
                <!-- prettier-ignore -->
                <template>
                    :scope {
                        display: block;
                        background-color: green;
                        padding: 10px;
                    }

                    h1, h2 {
                        font-weight: bold;
                    }
                </template>
            </code-sample>
            <p>If your browser supports <code>@scope</code>, Fudgel will rewrite your CSS by adding a unique class to this component and its descendents in the template. The below examples assume the component is called <code>component-name</code>, and the generated class name for it is <code>fudgel-123</code>.</p>
            <code-sample type="css">
                <!-- prettier-ignore -->
                <template>
                    @scope {
                        :scope {
                            display: block;
                            background-color: green;
                            padding: 10px;
                        }

                        h1.fudgel-123, h2.fudgel-123 {
                            font-weight: bold;
                        }
                    }
                </template>
            </code-sample>
            <p>Using the generated class name helps to prevent the CSS selectors from targeting elements in other custom components. If your browser doesn't support <code>@scope</code> yet, the CSS will change a little. This fallback could be removed once the majority of browsers support scoped CSS.</p>
            <code-sample type="css">
                <!-- prettier-ignore -->
                <template>
                    component-name {
                        display: block;
                        background-color: green;
                        padding: 10px;
                    }

                    component-name h1.fudgel-123, component-name h2.fudgel-123 {
                        font-weight: bold;
                    }
                </template>
            </code-sample>

            <h2>Styling the Host Element</h2>
            <p>When you are using a shadow DOM and your browser does not support <code>@scope</code>, the CSS will be changed to look like this.</p>
            <code-sample type="css">
                <!-- prettier-ignore -->
                <template>
                    :host {
                        display: block;
                        background-color: green;
                        padding: 10px;
                    }

                    component-name h1.fudgel-123, component-name h2.fudgel-123 {
                        font-weight: bold;
                    }
                </template>
            </code-sample>
            <h2>How to Avoid Scoping</h2>
            <p>When your custom element needs to inject other DOM elements, they will not have the generated class name applied automatically. This will affect your CSS. For instance, the code sample custom element uses <a href="highlight.js">Highlight.js</a> to colorize the code. These elements need to be styled, so the component needs to inject the styles itself.</p>
            <code-sample type="js">
                <!-- prettier-ignore -->
                <template>
                    import { component } from 'fudgel';

                    component('code-sample', {
                        style: `
                            :scope {
                                display: block;
                                background-color: #f4f4f4;
                                padding: 10px;
                            }
                        `,
                        template: `
                            <style>
                                .hljs {
                                    display: block;
                                    overflow-x: auto;
                                    padding: 0.5em;
                                    color: #333;
                                    background: #f4f4f4;
                                }
                            </style>
                            <!-- more code goes here -->
                        `
                    }, /* your class goes here */);
                </template>
            </code-sample>
        </page-wrapper>
    </body>
    <script src="js.js" type="module"></script>
</html>
